import{_ as p,C as t,c as h,o as k,ag as e,j as i,a,G as l}from"./chunks/framework.Cjll1ph3.js";const I=JSON.parse('{"title":"API 列表","description":"","frontmatter":{"sidebar":"auto"},"headers":[],"relativePath":"zh/api/index.md","filePath":"zh/api/index.md"}'),r={name:"zh/api/index.md"},d={id:"unsetconfig-key-propname",tabindex:"-1"},g={id:"removeconfig-key-propname",tabindex:"-1"},o={id:"uploaderconfig",tabindex:"-1"},E={id:"request-request",tabindex:"-1"},c={id:"request",tabindex:"-1"},y={id:"pluginhandler",tabindex:"-1"},u={id:"pluginloader",tabindex:"-1"},F={id:"use",tabindex:"-1"},b={id:"i18n",tabindex:"-1"},C={id:"guiapi",tabindex:"-1"},m={id:"guiapi-shownotification-option",tabindex:"-1"},f={id:"guiapi-showmessagebox-option",tabindex:"-1"},x={id:"guiapi-gallerydb",tabindex:"-1"};function v(B,s,A,D,P,q){const n=t("Badge");return k(),h("div",null,[s[53]||(s[53]=e(`<h1 id="api-列表" tabindex="-1">API 列表 <a class="header-anchor" href="#api-列表" aria-label="Permalink to &quot;API 列表&quot;">​</a></h1><p>picgo 本身是一个流程系统应用。除了最关键的上传之外，picgo 还支持配置、log 输出、插件、命令行交互等等功能。</p><h2 id="ctx" tabindex="-1">ctx <a class="header-anchor" href="#ctx" aria-label="Permalink to &quot;ctx&quot;">​</a></h2><p>picgo 传入插件的<code>ctx</code>其实就是 picgo 本身。<code>ctx</code>拥有 picgo 暴露的所有对象和方法。所以 picgo 本身拥有的方法，你在插件里使用的<code>ctx</code>也具备同样的方法。</p><p>首先我们来初始化一个 picgo 实例。</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Common JS</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">PicGo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;picgo&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ES Module</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { PicGo } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;picgo&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> picgo</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> PicGo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span></code></pre></div><p>接下去介绍 picgo 的详细 API。</p><h2 id="upload-input" tabindex="-1">upload([input]) <a class="header-anchor" href="#upload-input" aria-label="Permalink to &quot;upload([input])&quot;">​</a></h2><p>picgo 的上传函数。</p>`,9)),i("ul",null,[s[3]||(s[3]=i("li",null,[a("input: Array<any> || "),i("code",null,"undefined")],-1)),i("li",null,[s[0]||(s[0]=a("return: Promise<",-1)),s[1]||(s[1]=i("a",{href:"https://github.com/PicGo/PicGo-Core/blob/f133d57562c413b0b6f9a9ca9a93bf19c1768f1f/src/types/index.d.ts#L169-L178",target:"_blank",rel:"noreferrer"},"IImgInfo[]",-1)),s[2]||(s[2]=a(" | Error> ",-1)),l(n,{text:"1.4.21+"})])]),s[54]||(s[54]=e(`<p>upload 接收两种情况：</p><ul><li>空数组或者<code>undefined</code></li></ul><p>当为空数组或者<code>undefined</code>的时候，picgo 将会上传剪贴板里的第一张图片（由于跨平台限制只能为 <strong><code>png</code></strong> 格式）。若剪贴板里不存在图片将会报错。</p><div class="tip custom-block"><p class="custom-block-title">提示</p><p>Linux 平台需要安装<code>xclip</code></p></div><p>示例：</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">picgo.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">upload</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// or</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">picgo.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">upload</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([])</span></span></code></pre></div><ul><li>非空数组</li></ul><p>当为非空数组的时候，对应于 picgo 默认的两种 transformer，支持 path 数组以及 base64 图片信息数组。参考 <a href="/PicGo-Core-Doc/zh/dev-guide/cli.html#transformer">Transformer</a> 章节。</p><p>示例：</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">picgo.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">upload</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/xxx/xxx.jpg&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/yyy/yyy.png&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">])</span></span></code></pre></div><p>从 <code>v1.4.21+</code> 开始，支持调用后获取结果：</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> main</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> res</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> picgo.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">upload</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/xxx/xxx.jpg&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/yyy/yyy.png&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">])</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(res) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// [https://xxx.com/xxxxx.jpg, https://xxx.com/yyyyy.jpg]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="getconfig-name" tabindex="-1">getConfig([name]) <a class="header-anchor" href="#getconfig-name" aria-label="Permalink to &quot;getConfig([name])&quot;">​</a></h2><p>获取 picgo 的 config 信息。</p><ul><li>name: string</li></ul><p>默认的配置长这样：</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;picBed&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;current&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;smms&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>你可以通过<code>getConfig()</code>获取完整信息：</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">picgo.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getConfig</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span></code></pre></div><p>输出：</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;picBed&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;current&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;smms&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;plugins&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>或者你可以选择你要查看的具体配置项：</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">picgo.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getConfig</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;picBed.current&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 支持多级查找</span></span></code></pre></div><p>输出：<code>smms</code>。</p><h2 id="setconfig-config" tabindex="-1">setConfig(config) <a class="header-anchor" href="#setconfig-config" aria-label="Permalink to &quot;setConfig(config)&quot;">​</a></h2><p>配置 picgo 的 config 但不写入配置文件，用于上下文使用。</p><ul><li>config: object</li></ul><p>需要传入一个合法的对象去配置 picgo 的 config 信息。 <strong>这个方法不会写入配置文件</strong> ，一次流程执行结束后不会改变配置文件本身，却可以在流程过程中实现后续部件读取的配置。</p><div class="warning custom-block"><p class="custom-block-title">注意</p><p>如果是 GUI 插件，setConfig 虽然不会写入配置文件，但是会一直保存在 config 上下文中，如果插件有重置的需求，请在合适的地方调用 <code>unsetConfig</code>（见下文） 来重置 config。</p></div><p>示例：</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">picgo.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setConfig</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &#39;picBed.current&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;gitlab&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><h2 id="saveconfig-config" tabindex="-1">saveConfig(config) <a class="header-anchor" href="#saveconfig-config" aria-label="Permalink to &quot;saveConfig(config)&quot;">​</a></h2><p>配置 picgo 的 config 并写入配置文件，用于持久化保存配置。</p><ul><li>config: object</li></ul><p>需要传入一个合法的对象去配置 picgo 的 config 信息。<strong>这个方法会写入配置文件</strong>，并影响之后每次 picgo 读取的配置文件。</p><p>示例：</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">picgo.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">saveConfig</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &#39;picgo-plugin-test&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    xxx: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;xxx&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    yyy: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;yyy&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div>`,37)),i("h2",d,[s[4]||(s[4]=a("unsetConfig(key, propName) ",-1)),l(n,{text:"1.4.0+"}),s[5]||(s[5]=a()),s[6]||(s[6]=i("a",{class:"header-anchor",href:"#unsetconfig-key-propname","aria-label":'Permalink to "unsetConfig(key, propName) <Badge text="1.4.0+" />"'},"​",-1))]),s[55]||(s[55]=e(`<p>删除 picgo 的 config 中的某个配置但不写入配置文件，用于上下文使用。</p><ul><li>key: string</li><li>propName: string</li></ul><p>传入需要删除的字段来删除 picgo 的 config 信息。 <strong>这个方法不会写入配置文件</strong> ，一次流程执行结束后不会改变配置文件本身。</p><p>示例：</p><p>原始的 config：</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;picgoPlugin&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;picgo-plugin-xxx&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: { </span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">picgo.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">unsetConfig</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;picgoPlugin&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;picgo-plugin-xxx&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>unsetConfig 后的 config:</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;picgoPlugin&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div>`,9)),i("h2",g,[s[7]||(s[7]=a("removeConfig(key, propName) ",-1)),l(n,{text:"1.4.0+"}),s[8]||(s[8]=a()),s[9]||(s[9]=i("a",{class:"header-anchor",href:"#removeconfig-key-propname","aria-label":'Permalink to "removeConfig(key, propName) <Badge text="1.4.0+" />"'},"​",-1))]),s[56]||(s[56]=e(`<p>删除 picgo 的 config 中的某个配置并写入配置文件，用于持久化保存配置。</p><ul><li>key: string</li><li>propName: string</li></ul><p>传入需要删除的字段来删除 picgo 的 config 信息。 <strong>这个方法会写入配置文件</strong> ，并影响之后每次 picgo 读取的配置文件。</p><p>示例：</p><p>原始的 config file：</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;picgoPlugin&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;picgo-plugin-xxx&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: { </span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">picgo.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">removesetConfig</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;picgoPlugin&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;picgo-plugin-xxx&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>removesetConfig 后的 config file:</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;picgoPlugin&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="emit-event-message" tabindex="-1">emit(event, [message]) <a class="header-anchor" href="#emit-event-message" aria-label="Permalink to &quot;emit(event, [message])&quot;">​</a></h2><p>事件派发。继承于 EventEmmitter。</p><ul><li>event: string</li><li>message: any</li></ul><p>通过<code>emit</code>可以派发事件，再通过<code>on</code>方法监听。</p><div class="tip custom-block"><p class="custom-block-title">提示</p><p>一个特殊的事件名是<code>notification</code>，picgo 以及一些插件将会使用这个事件名，详情可以查看 <a href="/PicGo-Core-Doc/zh/dev-guide/cli.html#消息通知">消息通知</a>章节。</p></div><p>示例：</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">picgo.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">emit</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;xxx&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, { message: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;xxx&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> })</span></span></code></pre></div><h2 id="on-event-callback" tabindex="-1">on(event, [callback]) <a class="header-anchor" href="#on-event-callback" aria-label="Permalink to &quot;on(event, [callback])&quot;">​</a></h2><p>事件监听。继承于 EventEmmitter。</p><ul><li>event: string</li><li>callback: function</li></ul><p>通过<code>on</code>可以监听<code>emit</code>派发的事件。picgo 自带的事件可以参考 <a href="/PicGo-Core-Doc/zh/guide/use-in-node.html#事件监听">事件监听</a>一章。</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">picgo.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">emit</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;xxx&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">message</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(message) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// { message: &#39;xxx&#39; }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><h2 id="input" tabindex="-1">input <a class="header-anchor" href="#input" aria-label="Permalink to &quot;input&quot;">​</a></h2><ul><li>type: Array&lt;any&gt;</li></ul><p>picgo 的输入。是一个数组。</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(picgo.input)</span></span></code></pre></div><h2 id="output" tabindex="-1">output <a class="header-anchor" href="#output" aria-label="Permalink to &quot;output&quot;">​</a></h2><ul><li>type: Array&lt;any&gt;</li></ul><p>picgo 的输出。是一个数组。通常上传成功之后要给这个数组里每一项加入<code>imgUrl</code>以及<code>url</code>项。可以参考 picgo 默认的 <a href="https://github.com/PicGo/PicGo-Core/blob/dev/src/plugins/uploader/smms.ts#L25-L37" target="_blank" rel="noreferrer">smms</a> Uploader。</p><div class="warning custom-block"><p class="custom-block-title">注意</p><p>input 通过 Transformer 之后就会进入 output 数组中，而不是经过 Uploader 才会变成 output。</p></div><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(picgo.output)</span></span></code></pre></div><h2 id="configpath" tabindex="-1">configPath <a class="header-anchor" href="#configpath" aria-label="Permalink to &quot;configPath&quot;">​</a></h2><ul><li>type: string</li></ul><p>picgo 的 config 所在路径。</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(picgo.configPath)</span></span></code></pre></div><h2 id="basedir" tabindex="-1">baseDir <a class="header-anchor" href="#basedir" aria-label="Permalink to &quot;baseDir&quot;">​</a></h2><ul><li>type: string</li></ul><p>picgo 的 config 文件所在的文件夹路径。</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(picgo.baseDir)</span></span></code></pre></div><h2 id="version" tabindex="-1">VERSION <a class="header-anchor" href="#version" aria-label="Permalink to &quot;VERSION&quot;">​</a></h2><ul><li>type: string</li></ul><p>获取当前 picgo 的版本。</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(picgo.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">VERSION</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// x.x.x</span></span></code></pre></div><h2 id="gui-version" tabindex="-1">GUI_VERSION <a class="header-anchor" href="#gui-version" aria-label="Permalink to &quot;GUI_VERSION&quot;">​</a></h2><ul><li>type: string || undefined</li></ul><p>如果当前环境为 PicGo GUI，可以获取当前 PicGo GUI 的版本，否则是undefined。</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(picgo.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">GUI_VERSION</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// x.x.x</span></span></code></pre></div><h2 id="helper" tabindex="-1">helper <a class="header-anchor" href="#helper" aria-label="Permalink to &quot;helper&quot;">​</a></h2><p>helper 是 picgo 的主要插件的集中管理者，包含 5 个部件，拥有相同的 api，不过所在生命周期不同，详情可见 <a href="/PicGo-Core-Doc/zh/dev-guide/cli.html">生命周期流程</a>。因此只介绍<code>helper.transformer</code>即可。</p><h3 id="helper-transformer" tabindex="-1">helper.transformer <a class="header-anchor" href="#helper-transformer" aria-label="Permalink to &quot;helper.transformer&quot;">​</a></h3><h4 id="register-id-plugin" tabindex="-1">register(id, plugin) <a class="header-anchor" href="#register-id-plugin" aria-label="Permalink to &quot;register(id, plugin)&quot;">​</a></h4><ul><li>id: string</li><li>plugin: object</li></ul><p>如果你只是要开发一个简单的插件，而不是发布一个 npm 包的话（发布 picgo 的 npm 插件包请查看 <a href="/PicGo-Core-Doc/zh/dev-guide/cli.html">插件开发指南</a>），那么只需要调用<code>helper[module].register</code>方法即可。</p><p>第一个参数代表插件的 id（相同的部件只能拥有唯一的 id，不过不同的部件可以拥有相同的 id），第二个参数应当是一个对象，至少包括一个<code>handle</code>方法供 picgo 调用。如果你还想要拥有 <a href="/PicGo-Core-Doc/zh/dev-guide/cli.html#配置项的处理">配置项</a> 功能，可以考虑再加入<code>config</code>方法供 picgo 调用。</p><p>示例：</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">picgo.helper.transformer.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">register</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;test&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  handle</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">ctx</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ctx</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">ctx</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><h3 id="helper-uploader" tabindex="-1">helper.uploader <a class="header-anchor" href="#helper-uploader" aria-label="Permalink to &quot;helper.uploader&quot;">​</a></h3><p>同上。</p><h3 id="helper-beforetransformplugins" tabindex="-1">helper.beforeTransformPlugins <a class="header-anchor" href="#helper-beforetransformplugins" aria-label="Permalink to &quot;helper.beforeTransformPlugins&quot;">​</a></h3><p>同上，不过不拥有配置项功能。</p><h3 id="helper-beforeuploadplugins" tabindex="-1">helper.beforeUploadPlugins <a class="header-anchor" href="#helper-beforeuploadplugins" aria-label="Permalink to &quot;helper.beforeUploadPlugins&quot;">​</a></h3><p>同上，不过不拥有配置项功能。</p><h3 id="helper-afteruploadplugins" tabindex="-1">helper.afterUploadPlugins <a class="header-anchor" href="#helper-afteruploadplugins" aria-label="Permalink to &quot;helper.afterUploadPlugins&quot;">​</a></h3><p>同上，不过不拥有配置项功能。</p>`,63)),i("h2",o,[s[10]||(s[10]=a("uploaderConfig ",-1)),l(n,{text:"1.8.0+"}),s[11]||(s[11]=a()),s[12]||(s[12]=i("a",{class:"header-anchor",href:"#uploaderconfig","aria-label":'Permalink to "uploaderConfig <Badge text="1.8.0+" />"'},"​",-1))]),s[57]||(s[57]=e(`<p>uploader 多配置管理器。</p><p>它用于管理存放在 <code>uploader.&lt;type&gt;</code> 下的“命名配置”，并会将当前启用配置同步到 <code>picBed.&lt;type&gt;</code>（作为镜像用于兼容插件生态）。</p><p>配置名匹配大小写不敏感（并会先去掉首尾空格）。</p><h3 id="uploaderconfig-listuploadertypes" tabindex="-1">uploaderConfig.listUploaderTypes() <a class="header-anchor" href="#uploaderconfig-listuploadertypes" aria-label="Permalink to &quot;uploaderConfig.listUploaderTypes()&quot;">​</a></h3><p>列出已安装/可用的 uploader 类型。</p><h3 id="uploaderconfig-getconfiglist-type" tabindex="-1">uploaderConfig.getConfigList(type) <a class="header-anchor" href="#uploaderconfig-getconfiglist-type" aria-label="Permalink to &quot;uploaderConfig.getConfigList(type)&quot;">​</a></h3><p>获取某个 uploader 类型下的所有配置。</p><h3 id="uploaderconfig-getactiveconfig-type" tabindex="-1">uploaderConfig.getActiveConfig(type) <a class="header-anchor" href="#uploaderconfig-getactiveconfig-type" aria-label="Permalink to &quot;uploaderConfig.getActiveConfig(type)&quot;">​</a></h3><p>获取某个 uploader 类型当前启用的配置（如果该类型还没有任何配置，可能返回 <code>undefined</code>）。</p><h3 id="uploaderconfig-use-type-configname" tabindex="-1">uploaderConfig.use(type, configName?) <a class="header-anchor" href="#uploaderconfig-use-type-configname" aria-label="Permalink to &quot;uploaderConfig.use(type, configName?)&quot;">​</a></h3><p>按名称启用某个配置，并将该 uploader 设置为当前 uploader（<code>picBed.current</code> / <code>picBed.uploader</code>）。</p><h3 id="uploaderconfig-createorupdate-type-configname-configpatch" tabindex="-1">uploaderConfig.createOrUpdate(type, configName?, configPatch?) <a class="header-anchor" href="#uploaderconfig-createorupdate-type-configname-configpatch" aria-label="Permalink to &quot;uploaderConfig.createOrUpdate(type, configName?, configPatch?)&quot;">​</a></h3><p>创建或更新一份配置（按名称），并在保存时<strong>自动启用该配置</strong>。</p><h3 id="uploaderconfig-copy-type-configname-newconfigname" tabindex="-1">uploaderConfig.copy(type, configName, newConfigName) <a class="header-anchor" href="#uploaderconfig-copy-type-configname-newconfigname" aria-label="Permalink to &quot;uploaderConfig.copy(type, configName, newConfigName)&quot;">​</a></h3><p>复制一份配置到新的配置名（<strong>不会</strong>切换当前 uploader）。</p><h3 id="uploaderconfig-rename-type-oldname-newname" tabindex="-1">uploaderConfig.rename(type, oldName, newName) <a class="header-anchor" href="#uploaderconfig-rename-type-oldname-newname" aria-label="Permalink to &quot;uploaderConfig.rename(type, oldName, newName)&quot;">​</a></h3><p>重命名一份配置。</p><h3 id="uploaderconfig-remove-type-configname" tabindex="-1">uploaderConfig.remove(type, configName) <a class="header-anchor" href="#uploaderconfig-remove-type-configname" aria-label="Permalink to &quot;uploaderConfig.remove(type, configName)&quot;">​</a></h3><p>删除一份配置；如果删除的是最后一份配置，PicGo 会清理 <code>picBed.&lt;type&gt;</code> 以避免凭据残留。</p><p>示例：</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 切换到某个命名配置</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">picgo.uploaderConfig.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">use</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;github&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Work&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 创建/更新配置并启用</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">picgo.uploaderConfig.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">createOrUpdate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;github&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Work&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, { repo: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;user/repo&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> })</span></span></code></pre></div>`,21)),i("h2",E,[s[13]||(s[13]=a("Request.request ",-1)),l(n,{type:"warning",text:"deprecate"}),s[14]||(s[14]=a()),s[15]||(s[15]=i("a",{class:"header-anchor",href:"#request-request","aria-label":'Permalink to "Request.request <Badge type="warning" text="deprecate" />"'},"​",-1))]),s[58]||(s[58]=e(`<p><strong>v1.5.0开始这个属性被废弃，请直接使用 <a href="#request"><code>ctx.request</code></a>。</strong></p><p>以下是 1.5.0 之前的文档，已经被废弃不再维护：</p><p>Request.request 是 picgo 内部暴露的一个 <a href="https://github.com/request/request-promise-native" target="_blank" rel="noreferrer">Request-Promise-Native</a> 对象，拥有一个可以使用 <a href="https://github.com/request/request" target="_blank" rel="noreferrer">request</a> 库里的所有方法，并且返回的是原生的 Promise。</p><div class="tip custom-block"><p class="custom-block-title">小贴士</p><p>值得注意的是，使用这个对象来发送请求的话，能自动读取用户配置给 picgo 的 <code>proxy</code> 值。比较适合用于书写 Uploder 的核心部分。</p></div><p>示例：</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">picgo.Request.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">request</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  method: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;post&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  uri: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;xxxx&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  body: fs.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">readFileSync</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;yyy&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div>`,6)),i("h2",c,[s[16]||(s[16]=a("request ",-1)),l(n,{text:"1.4.16+"}),s[17]||(s[17]=a()),l(n,{text:"1.5.0+"}),s[18]||(s[18]=a()),s[19]||(s[19]=i("a",{class:"header-anchor",href:"#request","aria-label":'Permalink to "request <Badge text="1.4.16+" /> <Badge text="1.5.0+" />"'},"​",-1))]),s[59]||(s[59]=e(`<div class="tip custom-block"><p class="custom-block-title">小贴士</p><p>值得注意的是，使用这个对象来发送请求的话，能自动读取用户配置给 picgo 的 <code>proxy</code> 值。比较适合用于书写 Uploder 的核心部分。</p></div><p>从 <code>v1.4.16</code> 开始，默认的请求方法从 <code>ctx.Request.request</code> 换成了 <code>ctx.request</code>。</p><ul><li><code>v1.5.0</code> 之前底层实现是 <a href="https://github.com/request/request-promise-native" target="_blank" rel="noreferrer">Request-Promise-Native</a></li><li><code>v1.5.0</code> 开始，底层实现是 <a href="https://github.com/axios/axios" target="_blank" rel="noreferrer">axios</a></li></ul><p>这里将不再介绍旧的实现的使用方法，而是直接介绍新的实现的使用方法。</p><p>总体而言，请求的配置可以参考 <a href="https://github.com/axios/axios#request-config" target="_blank" rel="noreferrer">axios 文档 request-config 部分</a>，不过 picgo 为了兼容旧的 <code>request</code> API，做了如下的处理，希望开发者注意：</p><ol><li>请求体里如果不带有 <code>resolveWithFullResponse: true</code>, 那么返回的是 <code>response.data</code>，而不是 <code>response</code> （带有 <code>status</code> 等信息）。</li><li>如果希望返回值是 <code>Buffer</code>，请把 <code>responseType</code> 设置为 <code>arraybuffer</code>。</li></ol><p>picgo 提供了几个比较有用的类型方便开发者使用：</p><ol><li><code>IReqOptions</code>：带有 <code>resolveWithFullResponse: true</code> 的请求配置类型。</li><li><code>IReqOptionsWithArrayBufferRes</code>：带有 <code>resolveWithFullResponse: true</code> 和 <code>responseType: &#39;arraybuffer&#39;</code> 的请求配置类型。</li><li><code>IReqOptionsWithBodyResOnly</code>： <code>axios</code> 的原始请求配置类型，返回值只有 <code>response.data</code>。</li></ol><div class="tip custom-block"><p class="custom-block-title">注意</p><p>request 接口的返回值依然是个 Promise，所以依然推荐使用 <code>async/await</code> 的方式来使用。</p></div><p>示例：</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { IReqOptions } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;picgo&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> opt</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> IReqOptions</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  method: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;post&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  url: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;xxxx&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  data: {},</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  resolveWithFullResponse: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // &lt;-- 这里设置为 true，返回值会带上 status 等</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> IRes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> res</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ctx.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">request</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(opt) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// { status: number, data: IRes }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ------------------------------</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { IReqOptionsWithArrayBufferRes } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;picgo&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> opt</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> IReqOptionsWithArrayBufferRes</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  method: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;post&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  url: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;xxxx&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  data: {},</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  resolveWithFullResponse: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // &lt;-- 这里设置为 true，返回值会带上 status 等</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  responseType: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;arraybuffer&#39;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // &lt;-- 这里设置为 arraybuffer，返回值 data 会是 Buffer</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> res</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ctx.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">request</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(opt) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// { status: number, data: Buffer }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ------------------------------</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { IReqOptionsWithBodyResOnly } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;picgo&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> opt</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> IReqOptionsWithBodyResOnly</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  method: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;post&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  url: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;xxxx&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  data: {},</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> IRes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> res</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> IRes</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ctx.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">request</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(opt) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// IRes</span></span></code></pre></div><h2 id="cmd" tabindex="-1">cmd <a class="header-anchor" href="#cmd" aria-label="Permalink to &quot;cmd&quot;">​</a></h2><p>用于提供 picgo 的命令行程序。</p><h3 id="cmd-program" tabindex="-1">cmd.program <a class="header-anchor" href="#cmd-program" aria-label="Permalink to &quot;cmd.program&quot;">​</a></h3><p>用于注册 CLI 命令。实际上是一个 <a href="https://github.com/tj/commander.js/" target="_blank" rel="noreferrer">commander.js</a> 的实例，用法和<code>commander.js</code>几乎一致。 <strong>不过请不要手动调用 picgo.cmd.program.parse(process.argv) 否则会导致出错</strong> 。参考 [注册命令](/zh/dev-guide/cli#注册 cli 命令)一章。</p><p>示例：</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">picgo.cmd.program</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">commands</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;test&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;This is a test commands&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">action</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">123</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  })</span></span></code></pre></div><h3 id="cmd-inquirer" tabindex="-1">cmd.inquirer <a class="header-anchor" href="#cmd-inquirer" aria-label="Permalink to &quot;cmd.inquirer&quot;">​</a></h3><p>用于提供 CLI 命令行交互。实际上是一个 <a href="https://github.com/SBoudrias/Inquirer.js/" target="_blank" rel="noreferrer">inquirer.js</a> 的实例，用法和<code>inquirer.js</code>一致。参考 <a href="/PicGo-Core-Doc/zh/dev-guide/cli.html#配置项的处理">配置项的处理</a> 一章。通常 PicGo 内部会将其和插件的 <a href="/PicGo-Core-Doc/zh/dev-guide/cli.html#config方法">config</a> 方法一起使用。</p><p>示例：</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> handleConfig</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> async</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> ctx</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> prompts</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(ctx)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> answer</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ctx.cmd.inquirer.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">prompt</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(prompts)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ctx.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">saveConfig</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 调用 saveConfig 保存配置</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &#39;picBed.xxx&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: answer</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">提示</p><p>你可以通过这个工具来制作你自己的命令行交互。不过需要注意的是，通常你应该直接使用插件的 <a href="/PicGo-Core-Doc/zh/dev-guide/cli.html#config方法">config</a> 方法来实现命令行交互，并且 PicGo 会自动存储<code>config</code>相关配置项的结果。</p></div><h2 id="log" tabindex="-1">log <a class="header-anchor" href="#log" aria-label="Permalink to &quot;log&quot;">​</a></h2><p>用于在命令行输出漂亮的信息，给予用户提示。</p><p>截图：</p><p><img src="https://pic.molunerfinn.com/picgo/docs/logs.png" alt=""></p><h3 id="log-info-message" tabindex="-1">log.info(message) <a class="header-anchor" href="#log-info-message" aria-label="Permalink to &quot;log.info(message)&quot;">​</a></h3><ul><li>message: string</li></ul><p>示例：</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">picgo.log.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">info</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Hello world&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><h3 id="log-warn-message" tabindex="-1">log.warn(message) <a class="header-anchor" href="#log-warn-message" aria-label="Permalink to &quot;log.warn(message)&quot;">​</a></h3><ul><li>message: string</li></ul><p>示例：</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">picgo.log.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">warn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Hello world&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><h3 id="log-success-message" tabindex="-1">log.success(message) <a class="header-anchor" href="#log-success-message" aria-label="Permalink to &quot;log.success(message)&quot;">​</a></h3><ul><li>message: string</li></ul><p>示例：</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">picgo.log.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">success</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Hello world&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><h3 id="log-error-message" tabindex="-1">log.error(message) <a class="header-anchor" href="#log-error-message" aria-label="Permalink to &quot;log.error(message)&quot;">​</a></h3><ul><li>message: string | error</li></ul><p>示例：</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">picgo.log.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Hello world&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div>`,42)),i("h2",y,[s[20]||(s[20]=a("PluginHandler ",-1)),l(n,{text:"1.4.0+"}),s[21]||(s[21]=a()),s[22]||(s[22]=i("a",{class:"header-anchor",href:"#pluginhandler","aria-label":'Permalink to "PluginHandler <Badge text="1.4.0+" />"'},"​",-1))]),s[60]||(s[60]=i("p",null,[a("提供了安装、更新、卸载 picgo 插件的底层接口。同时还暴露了对应的成功、失败事件用于开发者处理。 "),i("strong",null,"它依赖于系统 npm 命令。")],-1)),s[61]||(s[61]=i("h3",{id:"pluginhandler-install-pluginname",tabindex:"-1"},[a("pluginHandler.install([...pluginName]) "),i("a",{class:"header-anchor",href:"#pluginhandler-install-pluginname","aria-label":'Permalink to "pluginHandler.install([...pluginName])"'},"​")],-1)),i("ul",null,[i("li",null,[s[23]||(s[23]=a("return: Promise<",-1)),s[24]||(s[24]=i("a",{href:"https://github.com/PicGo/PicGo-Core/blob/f133d57562c413b0b6f9a9ca9a93bf19c1768f1f/src/types/index.d.ts#L339",target:"_blank",rel:"noreferrer"},"IPluginHandlerResult",-1)),s[25]||(s[25]=a("> ",-1)),l(n,{text:"1.4.19+"})])]),s[62]||(s[62]=e(`<p>用于安装插件，接收一个数组作为参数。其中 <code>pluginName</code>：</p><ol><li>可以为完整的 picgo 插件名字，比如 <code>picgo-plugin-xxx</code>。</li><li>也可以是简化名 <code>xxx</code>。</li><li>支持scope类型插件，比如 <code>@xxx/picgo-plugin-yyy</code>。</li><li>还支持本地路径。例如 <code>./xxx/yyy/picgo-plugin-zzz</code>。</li></ol><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> res</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> picgo.pluginHandler.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">install</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;xxx&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">])</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">picgo.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">on</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;installSuccess&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">res</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(res) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// [&#39;picgo-plugin-xxx&#39;]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">picgo.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">on</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;installFailed&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {})</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// v1.4.19 开始会直接返回调用结果。示例：</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">res.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">result</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (result.success) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(result.body) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// [&#39;picgo-plugin-xxx&#39;]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(result.body) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// error message</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><h3 id="pluginhandler-uninstall-pluginname" tabindex="-1">pluginHandler.uninstall([...pluginName]) <a class="header-anchor" href="#pluginhandler-uninstall-pluginname" aria-label="Permalink to &quot;pluginHandler.uninstall([...pluginName])&quot;">​</a></h3>`,4)),i("ul",null,[i("li",null,[s[26]||(s[26]=a("return: Promise<",-1)),s[27]||(s[27]=i("a",{href:"https://github.com/PicGo/PicGo-Core/blob/f133d57562c413b0b6f9a9ca9a93bf19c1768f1f/src/types/index.d.ts#L339",target:"_blank",rel:"noreferrer"},"IPluginHandlerResult",-1)),s[28]||(s[28]=a("> ",-1)),l(n,{text:"1.4.19+"})])]),s[63]||(s[63]=e(`<p>用于卸载插件，接收一个数组作为参数。其中 <code>pluginName</code>：</p><ol><li>可以为完整的 picgo 插件名字，比如 <code>picgo-plugin-xxx</code>。</li><li>也可以是简化名 <code>xxx</code>。</li><li>支持scope类型插件，比如 <code>@xxx/picgo-plugin-yyy</code>。</li><li>还支持本地路径。例如 <code>./xxx/yyy/picgo-plugin-zzz</code>。</li></ol><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> res</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> picgo.pluginHandler.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">uninstall</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;xxx&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">])</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">picgo.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">on</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;uninstallSuccess&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">res</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(res) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// [&#39;picgo-plugin-xxx&#39;]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">picgo.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">on</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;uninstallFailed&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {})</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// v1.4.19 开始会直接返回调用结果。示例：</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">res.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">result</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (result.success) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(result.body) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// [&#39;picgo-plugin-xxx&#39;]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(result.body) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// error message</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><h3 id="pluginhandler-update-pluginname" tabindex="-1">pluginHandler.update([...pluginName]) <a class="header-anchor" href="#pluginhandler-update-pluginname" aria-label="Permalink to &quot;pluginHandler.update([...pluginName])&quot;">​</a></h3>`,4)),i("ul",null,[i("li",null,[s[29]||(s[29]=a("return: Promise<",-1)),s[30]||(s[30]=i("a",{href:"https://github.com/PicGo/PicGo-Core/blob/f133d57562c413b0b6f9a9ca9a93bf19c1768f1f/src/types/index.d.ts#L339",target:"_blank",rel:"noreferrer"},"IPluginHandlerResult",-1)),s[31]||(s[31]=a("> ",-1)),l(n,{text:"1.4.19+"})])]),s[64]||(s[64]=e(`<p>用于更新插件，接收一个数组作为参数。其中 <code>pluginName</code>：</p><ol><li>可以为完整的 picgo 插件名字，比如 <code>picgo-plugin-xxx</code>。</li><li>也可以是简化名 <code>xxx</code>。</li><li>支持scope类型插件，比如 <code>@xxx/picgo-plugin-yyy</code>。</li><li>还支持本地路径。例如 <code>./xxx/yyy/picgo-plugin-zzz</code>。</li></ol><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> res</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> picgo.pluginHandler.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">update</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;xxx&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">])</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">picgo.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">on</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;updateSuccess&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">res</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(res) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// [&#39;picgo-plugin-xxx&#39;]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">picgo.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">on</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;updateFailed&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {})</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// v1.4.19 开始会直接返回调用结果。示例：</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">res.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">result</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (result.success) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(result.body) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// [&#39;picgo-plugin-xxx&#39;]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(result.body) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// error message</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div>`,3)),i("h2",u,[s[32]||(s[32]=a("PluginLoader ",-1)),l(n,{text:"1.4.17+"}),s[33]||(s[33]=a()),s[34]||(s[34]=i("a",{class:"header-anchor",href:"#pluginloader","aria-label":'Permalink to "PluginLoader <Badge text="1.4.17+" />"'},"​",-1))]),s[65]||(s[65]=e(`<p>提供了动态加载、卸载 picgo 插件的方法。比较适合用于在 Node 项目中使用 picgo 时动态引入插件。</p><h3 id="pluginloader-registerplugin-pluginname-plugin" tabindex="-1">pluginLoader.registerPlugin(pluginName, plugin) <a class="header-anchor" href="#pluginloader-registerplugin-pluginname-plugin" aria-label="Permalink to &quot;pluginLoader.registerPlugin(pluginName, plugin)&quot;">​</a></h3><ul><li>pluginName: string</li><li>plugin: <a href="https://github.com/PicGo/PicGo-Core/blob/f133d57562c413b0b6f9a9ca9a93bf19c1768f1f/src/types/index.d.ts#L352" target="_blank" rel="noreferrer">IPicGoPlugin</a></li></ul><p>用于注册并加载插件。</p><p>示例：</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> pluginXXX</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;picgo-plugin-xxx&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 注意pluginName要唯一</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">picgo.pluginLoader.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">registerPlugin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;xxx&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, pluginXXX)</span></span></code></pre></div><h3 id="pluginloader-unregisterplugin-pluginname" tabindex="-1">pluginLoader.unregisterPlugin(pluginName) <a class="header-anchor" href="#pluginloader-unregisterplugin-pluginname" aria-label="Permalink to &quot;pluginLoader.unregisterPlugin(pluginName)&quot;">​</a></h3><p>用于卸载插件。</p><p>示例：</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 注意pluginName要唯一</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">picgo.pluginLoader.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">unregisterPlugin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;xxx&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><h3 id="pluginloader-getplugin-pluginname" tabindex="-1">pluginLoader.getPlugin(pluginName) <a class="header-anchor" href="#pluginloader-getplugin-pluginname" aria-label="Permalink to &quot;pluginLoader.getPlugin(pluginName)&quot;">​</a></h3><ul><li>return: plugin -&gt; <a href="https://github.com/PicGo/PicGo-Core/blob/f133d57562c413b0b6f9a9ca9a93bf19c1768f1f/src/types/index.d.ts#L352" target="_blank" rel="noreferrer">IPicGoPlugin</a></li></ul><p>用于获取某个插件。</p><p>示例：</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> plugin</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> picgo.pluginLoader.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getPlugin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;xxx&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><h3 id="pluginloader-hasplugin-pluginname" tabindex="-1">pluginLoader.hasPlugin(pluginName) <a class="header-anchor" href="#pluginloader-hasplugin-pluginname" aria-label="Permalink to &quot;pluginLoader.hasPlugin(pluginName)&quot;">​</a></h3><p>用于确认是否存在某个插件。</p><ul><li>return: boolean</li></ul><p>示例：</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> res</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> picgo.pluginLoader.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">hasPlugin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;xxx&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// true or false</span></span></code></pre></div>`,20)),i("h2",F,[s[35]||(s[35]=a("use ",-1)),l(n,{text:"1.5.0+"}),s[36]||(s[36]=a()),s[37]||(s[37]=i("a",{class:"header-anchor",href:"#use","aria-label":'Permalink to "use <Badge text="1.5.0+" />"'},"​",-1))]),s[66]||(s[66]=e(`<p>比 <a href="#pluginloader">PluginLoader</a> 更加简单的插件加载方式。适合在 Node 项目中使用 picgo 时动态引入插件。</p><ul><li>(plugin: IPicGoPlugin, name?: string): IPicGoPluginInterface</li></ul><ol><li>第一个参数是 picgo 插件导出对象，通常是以 npm 包的形式出现的。</li><li>如果第二个参数 <code>name</code> 为空，则只会实例化这个插件而不会把插件注册进 PicGo 的列表里。这通常在你需要动态加载插件的时候使用。以下是实际例子：</li></ol><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">PicGo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;picgo&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> PluginMigrater</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;picgo-plugin-pic-migrater&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> MinioUploader</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;picgo-plugin-minio&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> picgo</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> PicGo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> plugin</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> picgo.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">use</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(PluginMigrater) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// will not register this plugin, just use it</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">picgo.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">use</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(MinioUploader, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;minio&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// will register this plugin</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">picgo.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setConfig</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &#39;picgo-plugin-pic-migrater&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    newFileSuffix: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;_new&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    include: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    exclude: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  picBed: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    current: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;minio&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// use minio config</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    uploader: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;minio&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    minio: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      endpoint: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;http://localhost:9000&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      accessKey: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;minioadmin&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      secretKey: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;minioadmin&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      bucket: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;picgo&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      path: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      useSSL: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// will use minio for migrating</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">plugin.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">migrateFiles</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/xxx/yyy.md&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// { total: number, success: number }</span></span></code></pre></div>`,4)),i("h2",b,[s[38]||(s[38]=a("i18n ",-1)),l(n,{text:"1.5.0+"}),s[39]||(s[39]=a()),s[40]||(s[40]=i("a",{class:"header-anchor",href:"#i18n","aria-label":'Permalink to "i18n <Badge text="1.5.0+" />"'},"​",-1))]),s[67]||(s[67]=e(`<p>提供国际化支持。目前支持的语言有：</p><ul><li><code>zh-CN</code> (默认)</li><li><code>zh-TW</code></li><li><code>en</code></li></ul><p>如果想为 picgo 添加默认的语言支持，请参考这个 <a href="https://github.com/PicGo/PicGo-Core/pull/135" target="_blank" rel="noreferrer">PR</a>。</p><h3 id="i18n-addlocale-language-string-locales-ilocale" tabindex="-1">i18n.addLocale(language: string, locales: ILocale) <a class="header-anchor" href="#i18n-addlocale-language-string-locales-ilocale" aria-label="Permalink to &quot;i18n.addLocale(language: string, locales: ILocale)&quot;">​</a></h3><p>用于向已有的语言中添加语言包。</p><ul><li>language: string</li><li>locales: <code>[key: string]: any</code></li><li>return: 返回 boolean ，表示是否添加成功</li></ul><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">picgo.i18n.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">addLocale</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;zh-CN&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &#39;PICGO_CURRENT_PICBED&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;当前图床&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> text</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> picgo.i18n.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">translate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;PICGO_CURRENT_PICBED&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 当前图床</span></span></code></pre></div><h3 id="i18n-translate-key-t-args-string" tabindex="-1">i18n.translate(key: T, args?: {}) =&gt; string) <a class="header-anchor" href="#i18n-translate-key-t-args-string" aria-label="Permalink to &quot;i18n.translate(key: T, args?: {}) =&gt; string)&quot;">​</a></h3><p>翻译文本。</p><ul><li>key: string | T (T 是一个枚举类型，包含了所有的文本 key)</li><li>args: object (可选)，如果文本带有参数可以通过这个来传入</li><li>return: string</li></ul><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">picgo.i18n.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">addLocale</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;zh-CN&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &#39;PICGO_CURRENT_PICBED&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;当前图床是 \${current}&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> text</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> picgo.i18n.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">translate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;PICGO_CURRENT_PICBED&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  current: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;sm.ms&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 当前图床是 sm.ms</span></span></code></pre></div><h3 id="i18n-setlanguage-language-string" tabindex="-1">i18n.setLanguage(language: string) <a class="header-anchor" href="#i18n-setlanguage-language-string" aria-label="Permalink to &quot;i18n.setLanguage(language: string)&quot;">​</a></h3><p>设置语言。</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">picgo.i18n.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setLanguage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;zh-TW&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><h3 id="i18n-addlanguage-language-string-locales-ilocale" tabindex="-1">i18n.addLanguage(language: string, locales: ILocale) <a class="header-anchor" href="#i18n-addlanguage-language-string-locales-ilocale" aria-label="Permalink to &quot;i18n.addLanguage(language: string, locales: ILocale)&quot;">​</a></h3><ul><li>language: string</li><li>locales: <code>[key: string]: any</code></li></ul><p>添加一种新的语言类型。注意如果添加一种新的语言，那么建议请先实现默认的语言包里的 <a href="https://github.com/PicGo/PicGo-Core/blob/dev/src/i18n/zh-CN.ts" target="_blank" rel="noreferrer">所有文本</a> ，否则可能会出现未知的问题。</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">picgo.i18n.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">addLanguage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;jp&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><h3 id="i18n-getlanguagelist" tabindex="-1">i18n.getLanguageList() <a class="header-anchor" href="#i18n-getlanguagelist" aria-label="Permalink to &quot;i18n.getLanguageList()&quot;">​</a></h3><ul><li>return: string[]</li></ul><p>返回当前所有的语言列表。</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> list</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> picgo.i18n.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getLanguageList</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// [&#39;zh-CN&#39;, &#39;zh-TW&#39;, &#39;en&#39;]</span></span></code></pre></div>`,22)),i("h2",C,[s[41]||(s[41]=a("guiApi ",-1)),l(n,{text:"GUI VERSION 2.0.0+"}),s[42]||(s[42]=a()),s[43]||(s[43]=i("a",{class:"header-anchor",href:"#guiapi","aria-label":'Permalink to "guiApi <Badge text="GUI VERSION 2.0.0+" />"'},"​",-1))]),s[68]||(s[68]=e(`<p><strong>guiApi 仅在 electron 版本的 PicGo 里提供，详细信息可以参考 <a href="/PicGo-Core-Doc/zh/dev-guide/gui.html">GUI 插件开发一章</a>。</strong></p><h3 id="guiapi-showinputbox-option" tabindex="-1">guiApi.showInputBox([option]) <a class="header-anchor" href="#guiapi-showinputbox-option" aria-label="Permalink to &quot;guiApi.showInputBox([option])&quot;">​</a></h3><p>调用之后打开一个输入弹窗，可以用于接受用户输入。</p><ul><li>option: Object || <code>undefined</code></li><li>return: 返回一个 Promise 对象，resolve 的值是用户输入的结果。</li></ul><p>其中 option 是可选值，可以传入一个<code>{title, placeholder}</code>的对象，用于弹窗的标题和输入框的<code>placeholder</code>显示。</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> guiMenu</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> ctx</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      label: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;打开 InputBox&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      async</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> handle</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">ctx</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">guiApi</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> value</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> guiApi.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">showInputBox</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          title: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;打开对话框&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          placeholder: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;请输入文件地址&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(value)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="guiapi-showfileexplorer-option" tabindex="-1">guiApi.showFileExplorer([option]) <a class="header-anchor" href="#guiapi-showfileexplorer-option" aria-label="Permalink to &quot;guiApi.showFileExplorer([option])&quot;">​</a></h3><p>调用之后打开一个文件浏览器，可以得到用户选择的文件（夹）路径。</p><ul><li>option: Object || <code>undefined</code></li><li>return: 返回一个 Promise 对象，resolve 的值是用户选择的文件路径数组。</li></ul><p>其中 option 是可选值，可以传入一个合法的 electron 的 dialog 的 <a href="https://electronjs.org/docs/api/dialog#dialogshowopendialogbrowserwindow-options-callback" target="_blank" rel="noreferrer">options 对象</a>，用于指定是否可多选，用于选择文件还是文件夹等等。</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> guiMenu</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> ctx</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      label: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;打开文件浏览器&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      async</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> handle</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">ctx</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">guiApi</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> files</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> guiApi.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">showFileExplorer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          properties: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;openFile&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;multiSelections&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(files)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="guiapi-upload-file" tabindex="-1">guiApi.upload([file]) <a class="header-anchor" href="#guiapi-upload-file" aria-label="Permalink to &quot;guiApi.upload([file])&quot;">​</a></h3><p>调用之后使用 PicGo 底层来上传，可以实现自动更新相册图片、上传成功后自动将 URL 写入剪贴板。</p><ul><li>file: Array || <code>undefined</code></li><li>return: 返回一个 Promise 对象，resolve 的值是 PicGo 上传成功后的 output 值，是一个数组。所以推荐用<code>async await</code>获取。</li></ul><div class="tip custom-block"><p class="custom-block-title">提示</p><p>实际上如果通过上面的<code>showInputBox</code>获得输入项，或者<code>showFileExplorer</code>选中文件，再通过<code>upload</code>上传的话，也可以很好的达到上传的目的。 推荐还是书写 Uploader 或者 Transformer 等插件，来实现接管 PicGo 的上传流程。</p></div><p>示例：</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> guiMenu</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> ctx</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      label: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;独立上传&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      async</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> handle</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">ctx</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">guiApi</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> files</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> guiApi.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">showFileExplorer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          properties: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;openFile&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;multiSelections&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        guiApi.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">upload</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(files)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div>`,17)),i("h3",m,[s[44]||(s[44]=a("guiApi.showNotification(option) ",-1)),l(n,{text:"2.0.1+"}),s[45]||(s[45]=a()),s[46]||(s[46]=i("a",{class:"header-anchor",href:"#guiapi-shownotification-option","aria-label":'Permalink to "guiApi.showNotification(option) <Badge text="2.0.1+" />"'},"​",-1))]),s[69]||(s[69]=e(`<p>调用之后弹出系统通知窗口。</p><ul><li>option: Object || <code>undefined</code></li><li>return: undefined（无返回值）</li></ul><p>其中 option 是必选值，需要提供<code>{title, body}</code>用于通知窗口的显示。</p><p><img src="https://pic.molunerfinn.com/picgo/docs/5c3db88042a0f.png" alt=""></p><p>示例：</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> guiMenu</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> ctx</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      label: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;显示通知&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      async</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> handle</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">ctx</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">guiApi</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        guiApi.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">showNotification</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          title: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;提示&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          body: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;本提示来自插件&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div>`,6)),i("h3",f,[s[47]||(s[47]=a("guiApi.showMessageBox([option]) ",-1)),l(n,{text:"2.1.0+"}),s[48]||(s[48]=a()),s[49]||(s[49]=i("a",{class:"header-anchor",href:"#guiapi-showmessagebox-option","aria-label":'Permalink to "guiApi.showMessageBox([option]) <Badge text="2.1.0+" />"'},"​",-1))]),s[70]||(s[70]=e(`<p>调用之后弹出系统的对话框窗口。</p><ul><li>option: Object || <code>{title: &#39;&#39;, message: &#39;&#39;, type: &#39;info&#39;, buttons: [&#39;Yes&#39;, &#39;No&#39;]}</code></li><li>return: Object -&gt; <code>{result, checkboxChecked}</code></li></ul><p><img src="https://pic.molunerfinn.com/picgo/docs/20190611110904.png" alt=""></p><p>其中，option 的完整参数可以参考 Electron 的 <a href="https://electronjs.org/docs/api/dialog#dialogshowmessageboxbrowserwindow-options-callback" target="_blank" rel="noreferrer">dialog.showMessageBox</a>。返回的值里，<code>result</code>为你指定的 buttons 的 index 值。比如上图如果我点了<code>是 (Y)</code>, 那么我会收到如下返回值：</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  result</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  checkboxChecked</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // 如果你在 options 里指定了 checkboxLabel 则会出现一个 checkbox，如果不提供，默认返回 false</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>示例：</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> guiMenu</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> ctx</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      label: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;显示 MessageBox&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      async</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> handle</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">ctx</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">guiApi</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> result</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> guiApi.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">showMessageBox</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          title: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;这是 title&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          message: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;这是 message&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;info&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          buttons: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Yes&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;No&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(result) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// { result: 0, checkboxChecked: false }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div>`,7)),i("h3",x,[s[50]||(s[50]=a("guiApi.galleryDB ",-1)),l(n,{text:"GUI VERSION 2.3.0+"}),s[51]||(s[51]=a()),s[52]||(s[52]=i("a",{class:"header-anchor",href:"#guiapi-gallerydb","aria-label":'Permalink to "guiApi.galleryDB <Badge text="GUI VERSION 2.3.0+" />"'},"​",-1))]),s[71]||(s[71]=e(`<p>从 PicGo GUI 2.3.0 开始，相册数据使用 <code>galleryDB</code> 操作，不再使用 config 里的 <code>uploaded</code> 字段。</p><p>galleryDB的使用可以参考 <a href="https://github.com/PicGo/store#get-getfilter-ifilter" target="_blank" rel="noreferrer">PicGo/store</a> 提供的api，以此为准。下文不一定更新及时。</p><h4 id="gallerydb-get-filter" tabindex="-1">galleryDB.get(filter?) <a class="header-anchor" href="#gallerydb-get-filter" aria-label="Permalink to &quot;galleryDB.get(filter?)&quot;">​</a></h4><ul><li>filter: undefined || Object -&gt; <a href="https://github.com/PicGo/store/blob/dev/src/types/index.ts" target="_blank" rel="noreferrer">IFilter</a></li><li>return: Promise&lt;<a href="https://github.com/PicGo/PicGo-Core/blob/f133d57562c413b0b6f9a9ca9a93bf19c1768f1f/src/types/index.d.ts#L169-L178" target="_blank" rel="noreferrer">IImgInfo[]</a>&gt;</li></ul><p>获取相册列表。可以提供filter字段用于过滤，如果不提供则默认获取全部列表。示例：</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> guiMenu</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> ctx</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      label: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;获取相册数据&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      async</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> handle</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">ctx</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">guiApi</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> result</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> guiApi.galleryDB.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          orderBy: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;asc&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 升序</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          limit: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 取10个</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          offset: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // 从index 5之后开始取（slice(5))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(result) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// [{...}, {...}, {...}, ...]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h4 id="gallerydb-insert-value" tabindex="-1">galleryDB.insert(value) <a class="header-anchor" href="#gallerydb-insert-value" aria-label="Permalink to &quot;galleryDB.insert(value)&quot;">​</a></h4><ul><li>value: Object -&gt; <a href="https://github.com/PicGo/PicGo-Core/blob/f133d57562c413b0b6f9a9ca9a93bf19c1768f1f/src/types/index.d.ts#L169-L178" target="_blank" rel="noreferrer">IImgInfo</a></li><li>return: Promise&lt;<a href="https://github.com/PicGo/store/blob/dev/src/types/index.ts" target="_blank" rel="noreferrer">IResult</a>&gt;</li></ul><p>往相册中插入数据。注意插入的数据一定要是符合要求的 output 中的格式（参考 <a href="./../dev-guide/cli.html#transformer">transformer 一章</a>，否则无法展示在相册中。</p><h4 id="gallerydb-insertmany-value" tabindex="-1">galleryDB.insertMany([...value]) <a class="header-anchor" href="#gallerydb-insertmany-value" aria-label="Permalink to &quot;galleryDB.insertMany([...value])&quot;">​</a></h4><ul><li>input: Array -&gt; <a href="https://github.com/PicGo/PicGo-Core/blob/f133d57562c413b0b6f9a9ca9a93bf19c1768f1f/src/types/index.d.ts#L169-L178" target="_blank" rel="noreferrer">IImgInfo[]</a></li><li>return: Promise&lt;<a href="https://github.com/PicGo/store/blob/dev/src/types/index.ts" target="_blank" rel="noreferrer">IResult[]</a>&gt;</li></ul><p>往相册中批量插入数据。注意插入的数据一定要是符合要求的 output 数组格式（参考 <a href="./../dev-guide/cli.html#transformer">transformer 一章</a>，否则无法展示在相册中。</p><h4 id="gallerydb-updatebyid-id-value" tabindex="-1">galleryDB.updateById(id, value) <a class="header-anchor" href="#gallerydb-updatebyid-id-value" aria-label="Permalink to &quot;galleryDB.updateById(id, value)&quot;">​</a></h4><ul><li>id: string 相册中某张图片的id</li><li>value: <a href="https://github.com/PicGo/PicGo-Core/blob/f133d57562c413b0b6f9a9ca9a93bf19c1768f1f/src/types/index.d.ts#L169-L178" target="_blank" rel="noreferrer">IImgInfo</a></li><li>return: Promise&lt;boolean&gt;</li></ul><p>根据相册数据中的id更新某张图片的信息。返回boolean。如果更新成功返回true，反之返回false。</p><h4 id="gallerydb-getbyid-id" tabindex="-1">galleryDB.getById(id) <a class="header-anchor" href="#gallerydb-getbyid-id" aria-label="Permalink to &quot;galleryDB.getById(id)&quot;">​</a></h4><ul><li>id: string 相册中某张图片的id</li><li>return: Promise&lt;<a href="https://github.com/PicGo/PicGo-Core/blob/f133d57562c413b0b6f9a9ca9a93bf19c1768f1f/src/types/index.d.ts#L169-L178" target="_blank" rel="noreferrer">IImgInfo</a>&gt;</li></ul><p>根据id获取某张图片的信息。</p><h4 id="gallerydb-removebyid-id" tabindex="-1">galleryDB.removeById(id) <a class="header-anchor" href="#gallerydb-removebyid-id" aria-label="Permalink to &quot;galleryDB.removeById(id)&quot;">​</a></h4><ul><li>id: string 相册中某张图片的id</li><li>return: void</li></ul><p>根据id删除某张图片的信息。无返回值。</p><p><strong>注意，删除图片是敏感操作，GUI版本会提示用户是否允许删除。</strong></p><h4 id="gallerydb-overwrite-value" tabindex="-1">galleryDB.overwrite(value) <a class="header-anchor" href="#gallerydb-overwrite-value" aria-label="Permalink to &quot;galleryDB.overwrite(value)&quot;">​</a></h4><ul><li>value: <a href="https://github.com/PicGo/PicGo-Core/blob/f133d57562c413b0b6f9a9ca9a93bf19c1768f1f/src/types/index.d.ts#L169-L178" target="_blank" rel="noreferrer">IImgInfo[]</a></li><li>return: Promise&lt;<a href="https://github.com/PicGo/store/blob/dev/src/types/index.ts" target="_blank" rel="noreferrer">IResult[]</a>&gt;</li></ul><p>覆盖相册中的数据。 <strong>覆盖前会清空原有数据。</strong></p><p><strong>注意，覆盖图片列表是敏感操作，GUI版本会提示用户是否允许覆盖。</strong></p>`,26))])}const j=p(r,[["render",v]]);export{I as __pageData,j as default};
